<p>{{ currentQuestion.name }}</p>
<form (ngSubmit)="questionForm.valid && onSubmit()" #questionForm="ngForm">
  <div class="field-radiobutton">
    <p-radioButton
      #answerA="ngModel"
      name="answerA"
      inputId="answerA"
      value="{{ currentQuestion.valueA }}"
      [(ngModel)]="answers[currentQuestion.nb - 1].answer"
      [ngClass]="{
        'ng-dirty': answerA.invalid || (answerA.dirty && answerA.invalid)
      }"
      required="answers[currentQuestion.nb - 1].answer != '' ? true : false"
    ></p-radioButton>
    <label for="answerA">oui, tout à fait</label>
  </div>
  <div class="field-radiobutton">
    <p-radioButton
      #answerB="ngModel"
      name="answerB"
      inputId="answerB"
      value="{{ currentQuestion.valueB }}"
      [(ngModel)]="answers[currentQuestion.nb - 1].answer"
      [ngClass]="{
        'ng-dirty': answerB.invalid || (answerB.dirty && answerB.invalid)
      }"
      required="answers[currentQuestion.nb - 1].answer != '' ? true : false"
    ></p-radioButton>
    <label for="answerB">oui</label>
  </div>
  <div class="field-radiobutton">
    <p-radioButton
      #answerC="ngModel"
      name="answerC"
      inputId="answerC"
      value="{{ currentQuestion.valueC }}"
      [(ngModel)]="answers[currentQuestion.nb - 1].answer"
      [ngClass]="{
        'ng-dirty': answerC.invalid || (answerC.dirty && answerC.invalid)
      }"
      required="answers[currentQuestion.nb - 1].answer != '' ? true : false"
    ></p-radioButton>
    <label for="answerC">non</label>
  </div>
  <div class="field-radiobutton">
    <p-radioButton
      #answerD="ngModel"
      name="answerD"
      inputId="answerD"
      value="{{ currentQuestion.valueD }}"
      [(ngModel)]="answers[currentQuestion.nb - 1].answer"
      [ngClass]="{
        'ng-dirty': answerD.invalid || (answerD.dirty && answerD.invalid)
      }"
      required="answers[currentQuestion.nb - 1].answer != '' ? true : false"
    ></p-radioButton>
    <label for="answerD">non, absolument pas</label>
  </div>
  <small
    *ngIf="
      answerA.invalid ||
      (answerA.dirty && answerA.invalid) ||
      answerB.invalid ||
      (answerB.dirty && answerB.invalid) ||
      answerC.invalid ||
      (answerC.dirty && answerC.invalid) ||
      answerD.invalid ||
      (answerD.dirty && answerD.invalid)
    "
    class="p-error"
    >Cochez une des propositions pour passer à la suite du test</small
  >
  <p-button
    type="submit"
    label="Précédent"
    (onClick)="previousQuestion()"
    icon="pi pi-angle-left"
    iconPos="left"
  ></p-button>
  <p-button
    type="submit"
    label="Suivant"
    (onClick)="nextQuestion()"
    icon="pi pi-angle-right"
    iconPos="right"
    [disabled]="questionForm.valid === false"
  ></p-button>
</form>
